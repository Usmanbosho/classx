{% include 'includes/d_header.html' %}

<main class="main-content">

  <!-- TOP BAR -->
  <header class="top-bar">
    <div class="menu-toggle" onclick="toggleSidebar()"><i class="fa-solid fa-bars"></i></div>
    <div class="profile-info">
      <span ><b onclick="toggleProfileMenu()" style="font-size: 11px; color: rgb(111, 111, 111); margin-left: 90px;">Profile <i class="fas fa-chevron-down"></i></b></span>
      <div class="profile-dropdown-wrapper">
        <div class="avatar" onclick="toggleProfileMenu()"></div>
        <div class="dropdown" id="profileDropdown">
          <a href="#"><i class="fa-solid fa-arrow-left"></i> Back to Registration</a>
          <a href="#"><i class="fa-solid fa-user-gear"></i> Manage Profile</a>
          <a href="logout"><i class="fa-solid fa-right-from-bracket"></i> Sign out</a>
        </div>
      </div>
    </div>
  </header>

  <!-- WELCOME CARD -->
<br><br>  <br><br><section class="welcome-card">
    <h2>Hi, {{ session['student_name'] }}</h2>
    <p>Welcome back to your dashboard!</p>
  </section>

  <!-- QUICK STATS -->
  <h5 style="margin-left: 30px; margin-top: 20px; margin-bottom: 10px;">Overview</h5>
  <section class="overview">
    <div class="card blue">
      <div class="vive">
        <i class="fas fa-book"></i>
        <h3>Total Courses</h3>
        <div class="big-number">{{ total_courses }}</div>
        <div class="line"></div>
      </div>
    </div>

    <div class="card light">
      <p class="label"><i class="fas fa-chart-line"></i> Progress</p>
      <p class="value">{{ progress_percentage }}%</p>
    </div>

    <div class="card light">
      <p class="label"><i class="fas fa-calendar-alt"></i> Upcoming Classes</p>
      <p class="value">{{ upcoming_classes }}</p>
    </div>
  </section>

  <!-- ENROLLED COURSES LIST -->
  <h5 style="margin-left: 30px; margin-top: 30px; margin-bottom: 10px;">My Enrolled Courses</h5>
  <section class="course-wrapper">
    {% if enrollments %}
        {% for enrollment in enrollments %}
        <div class="course-list-panel">
            <div class="course-list-item">
                <h4>{{ enrollment.course }}</h4>
                <p>Experience Level: {{ enrollment.experience or 'N/A' }}</p>
                {% if enrollment.motivation %}
                <p>Motivation: {{ enrollment.motivation }}</p>
                {% endif %}
                {% if enrollment.newsletter %}
                <p>Subscribed to Newsletter: Yes</p>
                {% else %}
                <p>Subscribed to Newsletter: No</p>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    {% else %}
        <p style="margin-left: 30px;">You have not enrolled in any courses yet.</p>
    {% endif %}
</section>

  <br><br><br><br><br>
  



{% include 'includes/d_footer.html' %}
